window.__require=function t(e,n,i){function o(r,a){if(!n[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var h="function"==typeof __require&&__require;if(!a&&h)return h(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+r+"'")}}var d=n[r]={exports:{}};e[r][0].call(d.exports,function(t){return o(e[r][1][t]||t)},d,d.exports,t,e,n,i)}return n[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<i.length;r++)o(i[r]);return o}({"Weapon fragments":[function(t,e,n){"use strict";cc._RF.push(e,"2f093ZlTllLyrmfA4rApgll","Weapon fragments"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],bullet:[function(t,e,n){"use strict";cc._RF.push(e,"dd16dBUolRLTabtba5ErYel","bullet"),cc.Class({extends:cc.Component,properties:{},init:function(t){this.xl=t,this.node.rotation=-Math.atan2(t.y,t.x)/Math.PI*180},onCollisionEnter:function(t,e){"enemy"==t.node.group&&(G.score++,t.node.destroy(),e.node.destroy())},update:function(t){G.gameover||(Math.abs(this.node.x)>this.node.parent.width/2&&this.node.destroy(),Math.abs(this.node.y)>this.node.parent.height/2&&this.node.destroy(),this.node.x+=500*this.xl.x*t,this.node.y+=500*this.xl.y*t)}}),cc._RF.pop()},{}],defense:[function(t,e,n){"use strict";cc._RF.push(e,"e4865xlOfVOtIwRWyb2weZg","defense"),cc.Class({extends:cc.Component,properties:{turret:cc.Prefab},onLoad:function(){this.add100=!1,this.add50=!1},changeturretangle:function(){for(var t in this.node.children)this.node.children[t].getComponent("turret").changeangle(360/this.node.childrenCount*t)},addturret:function(){cc.instantiate(this.turret).parent=this.node,this.changeturretangle()},update:function(t){G.gameover||(0==this.add100&&G.score>=100&&(this.add100=!0,this.addturret()),0==this.add50&&G.score>=50&&(this.add50=!0,this.addturret()),this.node.rotation>180&&(this.node.rotation=-180),this.node.rotation+=50*t)}}),cc._RF.pop()},{}],enemy:[function(t,e,n){"use strict";cc._RF.push(e,"355ecB2MhdG4ISSSuJC7l0a","enemy"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.ball=cc.find("Canvas/ball"),this.timer=0},onCollisionEnter:function(t,e){"player"==t.node.group&&(t.node.getComponent("player").bloodNum-=5,e.node.destroy())},update:function(t){if(!G.gameover){this.timer+=t,this.timer>15&&this.node.destroy();var e=this.ball.getPosition().sub(this.node.getPosition()).normalize(),n=Math.atan2(e.y,e.x)/Math.PI*180*-1;this.node.rotation=n,this.node.y+=50*e.y*t,this.node.x+=50*e.x*t}}}),cc._RF.pop()},{}],main:[function(t,e,n){"use strict";cc._RF.push(e,"280c3rsZJJKnZ9RqbALVwtK","main"),window.G={main:null,gameover:!1,score:0},cc.Class({extends:cc.Component,properties:{ball:cc.Node,weapon:cc.Prefab,enemy:cc.Prefab},onLoad:function(){cc.director.getCollisionManager().enabled=!0,G.main=this,G.gameover=!1,G.score=0,this.enemynode=cc.find("Canvas/enemys"),this.gameovernode=cc.find("Canvas/gameover"),this.scorelab=cc.find("Canvas/score").getComponent(cc.Label),this.timer=0,this.timer1=0,this.touchspeed=1.25;this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this)},touchMove:function(t){G.gameover||(this.ball.x+t.getDelta().x*this.touchspeed>this.node.width/2-this.ball.width/2?this.ball.x=this.node.width/2-this.ball.width/2:this.ball.x+t.getDelta().x*this.touchspeed<-this.node.width/2+this.ball.width/2?this.ball.x=-this.node.width/2+this.ball.width/2:this.ball.x+=t.getDelta().x*this.touchspeed,this.ball.y+t.getDelta().y*this.touchspeed>this.node.height/2-this.ball.height/2?this.ball.y=this.node.height/2-this.ball.height/2:this.ball.y+t.getDelta().y*this.touchspeed<-this.node.height/2+this.ball.height/2?this.ball.y=-this.node.height/2+this.ball.height/2:this.ball.y+=t.getDelta().y*this.touchspeed)},addenemy:function(){var t=cc.instantiate(this.enemy);t.parent=this.enemynode;var e=2*(Math.random()-.5)*(this.node.height/2+120);if(Math.abs(e)<480)var n=Math.random()>.5?-this.node.width/2-40:this.node.width/2+40;else n=2*(Math.random()-.5)*this.node.width/2;t.setPosition(cc.v2(n,e))},addgun:function(){var t=cc.instantiate(this.weapon);t.parent=this.node;var e=2*(Math.random()-.5)*(this.node.height/2-80),n=2*(Math.random()-.5)*(this.node.width/2-70);t.setPosition(cc.v2(n,e))},restartgame:function(){cc.director.loadScene("helloworld")},gameover1:function(){this.gameovernode.active=!0,G.gameover=!0},update:function(t){G.gameover||(this.scorelab.string="Score\uff1a"+G.score,this.timer+=t,this.timer>=.5&&(this.timer=0,this.addenemy()),this.timer1+=t,this.timer1>5&&(this.timer1=0))}}),cc._RF.pop()},{}],player:[function(t,e,n){"use strict";cc._RF.push(e,"25476j6IfxF/olqytBl5+Ro","player"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.bloodNum=100,this.blood=cc.find("Canvas/blood").getComponent(cc.ProgressBar),this.blood.progress=1},start:function(){},update:function(t){this.bloodNum<=0&&G.main.gameover1(),this.blood.progress=this.bloodNum/100}}),cc._RF.pop()},{}],test:[function(t,e,n){"use strict";cc._RF.push(e,"9b943n2A0dFeoVkADrAyeBZ","test"),cc.Class({extends:cc.Component,properties:{turret:cc.Prefab,weapon:cc.Prefab},onLoad:function(){this.timer=0},addturret:function(){cc.instantiate(this.turret).parent=this.node,this.node.getComponent("defense").changeturretangle()},addweapon:function(){cc.instantiate(this.weapon).parent=this.node,this.node.getComponent("defense").changeturretangle()},update:function(t){this.timer+=t,this.timer>.1&&(this.timer=0)}}),cc._RF.pop()},{}],turret:[function(t,e,n){"use strict";cc._RF.push(e,"143acgMRkFBEKNro9XlKtEQ","turret"),cc.Class({extends:cc.Component,properties:{bullet:cc.Prefab},onLoad:function(){this.timer=0,this.moveangle=!1},addbullet:function(t){var e=cc.instantiate(this.bullet);e.parent=cc.find("Canvas"),e.setPosition(cc.find("Canvas").convertToNodeSpaceAR(this.node.convertToWorldSpaceAR(this.node.children[0]))),e.getComponent("bullet").init(t)},changeangle:function(t){var e=cc.rotateTo(2,t);this.node.runAction(e)},update:function(t){if(!G.gameover&&(this.timer+=t,this.timer>.3)){this.timer=0;var e=this.node.parent.parent.convertToWorldSpaceAR(this.node.parent.getPosition()),n=this.node.convertToWorldSpaceAR(this.node.children[0]).sub(e).normalize();this.addbullet(n)}}}),cc._RF.pop()},{}]},{},["Weapon fragments","bullet","defense","enemy","main","player","test","turret"]);